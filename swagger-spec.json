{"openapi":"3.0.0","paths":{"/":{"get":{"operationId":"AppController_getHello","parameters":[],"responses":{"200":{"description":""}}}},"/v1/chat":{"post":{"operationId":"ChatController_getChatBotResponse","summary":"Message ChatBot and create Chat","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetChatBotResponseDto"}}}},"responses":{"200":{"description":"Ok","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatHistory"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestExceptionResponse"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedExceptionResponse"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForbiddenExceptionResponse"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundExceptionResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerErrorExceptionResponse"}}}}},"tags":["Chat"]}},"/v1/chat-bot":{"post":{"operationId":"ChatBotController_create","summary":"Create ChatBot","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateChatBotDto"}}}},"responses":{"200":{"description":"Ok","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatBot"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestExceptionResponse"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedExceptionResponse"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForbiddenExceptionResponse"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundExceptionResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerErrorExceptionResponse"}}}}},"tags":["ChatBot"]},"get":{"operationId":"ChatBotController_findAll","summary":"List ChatBots","parameters":[{"name":"order","required":false,"in":"query","schema":{"default":"ASC","enum":["ASC","ASC NULLS LAST","ASC NULLS FIRST","DESC","DESC NULLS LAST","DESC NULLS FIRST","asc","asc nulls last","asc nulls first","desc","desc nulls last","desc nulls first"],"type":"string"}},{"name":"page","required":false,"in":"query","schema":{"minimum":1,"default":1,"type":"number"}},{"name":"take","required":false,"in":"query","schema":{"minimum":1,"maximum":50,"default":10,"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/PageDto"},{"properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/ChatBot"}}}}]}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestExceptionResponse"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedExceptionResponse"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForbiddenExceptionResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerErrorExceptionResponse"}}}}},"tags":["ChatBot"]}},"/v1/chat-bot/{uuid}":{"get":{"operationId":"ChatBotController_findOne","summary":"Get ChatBot","parameters":[{"name":"uuid","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Ok","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatBot"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestExceptionResponse"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedExceptionResponse"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForbiddenExceptionResponse"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundExceptionResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerErrorExceptionResponse"}}}}},"tags":["ChatBot"]},"patch":{"operationId":"ChatBotController_update","summary":"Update ChatBot","parameters":[{"name":"uuid","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateChatBotDto"}}}},"responses":{"200":{"description":"Ok","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatBot"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestExceptionResponse"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedExceptionResponse"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForbiddenExceptionResponse"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundExceptionResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerErrorExceptionResponse"}}}}},"tags":["ChatBot"]},"delete":{"operationId":"ChatBotController_remove","summary":"Remove ChatBot","parameters":[{"name":"uuid","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Ok","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatBot"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestExceptionResponse"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedExceptionResponse"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForbiddenExceptionResponse"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundExceptionResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerErrorExceptionResponse"}}}}},"tags":["ChatBot"]}},"/v1/file-doc":{"post":{"operationId":"FileDocController_create","summary":"Create FileDoc","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateFileDocDto"}}}},"responses":{"200":{"description":"Ok","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FileDoc"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestExceptionResponse"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedExceptionResponse"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForbiddenExceptionResponse"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundExceptionResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerErrorExceptionResponse"}}}}},"tags":["FileDoc"]},"get":{"operationId":"FileDocController_findAll","summary":"List FileDocs","parameters":[{"name":"order","required":false,"in":"query","schema":{"default":"ASC","enum":["ASC","ASC NULLS LAST","ASC NULLS FIRST","DESC","DESC NULLS LAST","DESC NULLS FIRST","asc","asc nulls last","asc nulls first","desc","desc nulls last","desc nulls first"],"type":"string"}},{"name":"page","required":false,"in":"query","schema":{"minimum":1,"default":1,"type":"number"}},{"name":"take","required":false,"in":"query","schema":{"minimum":1,"maximum":50,"default":10,"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/PageDto"},{"properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/FileDoc"}}}}]}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestExceptionResponse"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedExceptionResponse"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForbiddenExceptionResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerErrorExceptionResponse"}}}}},"tags":["FileDoc"]}},"/v1/file-doc/{id}":{"get":{"operationId":"FileDocController_findOne","summary":"Get FileDoc","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Ok","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FileDoc"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestExceptionResponse"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedExceptionResponse"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForbiddenExceptionResponse"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundExceptionResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerErrorExceptionResponse"}}}}},"tags":["FileDoc"]},"patch":{"operationId":"FileDocController_update","summary":"Update FileDoc","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateFileDocDto"}}}},"responses":{"200":{"description":"Ok","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FileDoc"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestExceptionResponse"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedExceptionResponse"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForbiddenExceptionResponse"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundExceptionResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerErrorExceptionResponse"}}}}},"tags":["FileDoc"]},"delete":{"operationId":"FileDocController_remove","summary":"Remove FileDoc","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Ok","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FileDoc"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestExceptionResponse"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedExceptionResponse"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForbiddenExceptionResponse"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundExceptionResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerErrorExceptionResponse"}}}}},"tags":["FileDoc"]}},"/file-upload":{"post":{"operationId":"FileUploadController_uploadFile","parameters":[],"responses":{"201":{"description":""}}}}},"info":{"title":"ChatStack API Docs","description":"ChatStack API Docs","version":"1.0","contact":{}},"tags":[],"servers":[{"url":"http://localhost:5001"}],"components":{"schemas":{"GetChatBotResponseDto":{"type":"object","properties":{"chatBotUuid":{"type":"string"},"chatSessionDistinctId":{"type":"string","example":"f56c10b8-55a2-4e39-af78-f4419a0c0fd2","description":"This is a frontend distinct id that maintains a pointer of a unique anonymous chat session"},"userMessage":{"type":"string"},"metadata":{"type":"object"}},"required":["chatBotUuid","chatSessionDistinctId","userMessage","metadata"]},"ChatHistory":{"type":"object","properties":{}},"BadRequestExceptionResponse":{"type":"object","properties":{"message":{"type":"object","example":"Bad Request"},"error":{"type":"string","example":"Bad Request"},"statusCode":{"type":"number","enum":[100,101,102,103,200,201,202,203,204,205,206,300,301,302,303,304,307,308,400,401,402,403,404,405,406,407,408,409,410,411,412,413,414,415,416,417,418,421,422,424,428,429,500,501,502,503,504,505],"example":400}},"required":["error","statusCode"]},"UnauthorizedExceptionResponse":{"type":"object","properties":{"message":{"type":"object","example":"Unauthorized"},"error":{"type":"string","example":"Unauthorized"},"statusCode":{"type":"number","enum":[100,101,102,103,200,201,202,203,204,205,206,300,301,302,303,304,307,308,400,401,402,403,404,405,406,407,408,409,410,411,412,413,414,415,416,417,418,421,422,424,428,429,500,501,502,503,504,505],"example":401}},"required":["error","statusCode"]},"ForbiddenExceptionResponse":{"type":"object","properties":{"message":{"type":"object","example":"Forbidden"},"error":{"type":"string","example":"Forbidden"},"statusCode":{"type":"number","enum":[100,101,102,103,200,201,202,203,204,205,206,300,301,302,303,304,307,308,400,401,402,403,404,405,406,407,408,409,410,411,412,413,414,415,416,417,418,421,422,424,428,429,500,501,502,503,504,505],"example":403}},"required":["error","statusCode"]},"NotFoundExceptionResponse":{"type":"object","properties":{"message":{"type":"object","example":"Not Found"},"error":{"type":"string","example":"Not Found"},"statusCode":{"type":"number","enum":[100,101,102,103,200,201,202,203,204,205,206,300,301,302,303,304,307,308,400,401,402,403,404,405,406,407,408,409,410,411,412,413,414,415,416,417,418,421,422,424,428,429,500,501,502,503,504,505],"example":404}},"required":["error","statusCode"]},"InternalServerErrorExceptionResponse":{"type":"object","properties":{"message":{"type":"object","example":"Internal Server Error"},"error":{"type":"string","example":"Internal Server Error"},"statusCode":{"type":"number","enum":[100,101,102,103,200,201,202,203,204,205,206,300,301,302,303,304,307,308,400,401,402,403,404,405,406,407,408,409,410,411,412,413,414,415,416,417,418,421,422,424,428,429,500,501,502,503,504,505],"example":500}},"required":["error","statusCode"]},"CreateTextDocDto":{"type":"object","properties":{"pageContent":{"type":"string"},"metadata":{"type":"object"}},"required":["pageContent","metadata"]},"CreateWebDocDto":{"type":"object","properties":{"url":{"type":"string"},"metadata":{"type":"object"}},"required":["url","metadata"]},"CreateFileDocDto":{"type":"object","properties":{"ragId":{"type":"number"},"fileId":{"type":"number"},"metadata":{"type":"object"}},"required":["ragId","fileId","metadata"]},"CreateRagDto":{"type":"object","properties":{"textDocs":{"type":"array","items":{"$ref":"#/components/schemas/CreateTextDocDto"}},"webDocs":{"type":"array","items":{"$ref":"#/components/schemas/CreateWebDocDto"}},"fileDocs":{"type":"array","items":{"$ref":"#/components/schemas/CreateFileDocDto"}}},"required":["textDocs","webDocs","fileDocs"]},"CreateChatBotDto":{"type":"object","properties":{"name":{"type":"string"},"promptTemplate":{"type":"string"},"firstAssistantMessage":{"type":"string"},"mode":{"type":"string","enum":["DEFAULT","RAG","AGENT"]},"rag":{"$ref":"#/components/schemas/CreateRagDto"}},"required":["name","promptTemplate","firstAssistantMessage","mode","rag"]},"ChatBot":{"type":"object","properties":{"uuid":{"type":"string"},"name":{"type":"string"},"promptTemplate":{"type":"string"},"firstAssistantMessage":{"type":"string"},"mode":{"type":"string","enum":["DEFAULT","RAG","AGENT"]}},"required":["uuid","name","promptTemplate","firstAssistantMessage","mode"]},"UpdateChatBotDto":{"type":"object","properties":{}},"Rag":{"type":"object","properties":{}},"FileDoc":{"type":"object","properties":{"rag":{"$ref":"#/components/schemas/Rag"},"metadata":{"type":"object"},"loadedAt":{"format":"date-time","type":"string"}},"required":["rag","metadata","loadedAt"]},"UpdateFileDocDto":{"type":"object","properties":{}}}}}